        -:    0:Source:../hvm4/clang/heap/alloc.c
        -:    0:Graph:main-cov-main.gcno
        -:    0:Data:main-cov-main.gcda
        -:    0:Runs:9
   112528:    1:fn u64 heap_alloc(u64 size) {
   112528:    2:  u32 tid = wnf_tid();
   112528:    3:  u64 idx = (u64)tid * HEAP_STRIDE;
   112528:    4:  u64 at = HEAP_NEXT[idx];
   112528:    5:  u64 next = at + size;
   112528:    6:  if (__builtin_expect(next <= HEAP_END[idx] && next >= at, 1)) {
   112528:    7:    HEAP_NEXT[idx] = next;
   112528:    8:    return at;
        -:    9:  }
    #####:   10:  fprintf(stderr,
        -:   11:          "Out of heap memory in thread bank %u (need %llu words)\n",
        -:   12:          tid, size);
    #####:   13:  exit(1);
        -:   14:}
