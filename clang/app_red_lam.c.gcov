        -:    0:Source:../hvm4/clang/wnf/app_red_lam.c
        -:    0:Graph:main-cov-main.gcno
        -:    0:Data:main-cov-main.gcda
        -:    0:Runs:17
        -:    1:// ((f ~> λx.g) a)
        -:    2:// --------------- APP-RED-LAM
        -:    3:// x ← a
        -:    4:// (f x) ~> g
        -:    5:// Note: we substitute x with a, then return (f (Var x)) ~> g
        -:    6:// which effectively becomes (f a) ~> g[x:=a]
    #####:    7:fn Term wnf_app_red_lam(Term f, Term lam, Term arg) {
    #####:    8:  ITRS++;
    #####:    9:  u32  lam_loc = term_val(lam);
    #####:   10:  Term g       = heap_read(lam_loc);
    #####:   11:  Term var_x   = term_new(0, VAR, 0, lam_loc);
    #####:   12:  heap_subst_var(lam_loc, arg);
    #####:   13:  return term_new_red(term_new_app(f, var_x), g);
        -:   14:}
