        -:    0:Source:../hvm4/clang/wnf/mov_lam.c
        -:    0:Graph:main-cov-main.gcno
        -:    0:Data:main-cov-main.gcda
        -:    0:Runs:9
        -:    1:// % F = λx.f
        -:    2:// ---------- MOV-LAM
        -:    3:// F ← λx.G
        -:    4:// % G = f
    #####:    5:fn Term wnf_mov_lam(u32 loc, Term lam) {
    #####:    6:  ITRS++;
    #####:    7:  u32  lam_loc = term_val(lam);
    #####:    8:  u32  lam_ext = term_ext(lam);
    #####:    9:  Term bod     = heap_read(lam_loc);
        -:   10:
    #####:   11:  u64  base    = heap_alloc(2);
    #####:   12:  u32  g_loc   = (u32)base;
    #####:   13:  u32  x_loc   = g_loc + 1;
    #####:   14:  heap_write(g_loc, bod);
    #####:   15:  heap_write(x_loc, term_new_got(g_loc));
    #####:   16:  heap_subst_var(lam_loc, term_new(0, VAR, 0, x_loc));
    #####:   17:  Term res     = term_new(0, LAM, lam_ext, x_loc);
    #####:   18:  heap_subst_var(loc, res);
    #####:   19:  return res;
        -:   20:}
