        -:    0:Source:../hvm4/clang/table/find.c
        -:    0:Graph:hvm4-cov-main.gcno
        -:    0:Data:hvm4-cov-main.gcda
        -:    0:Runs:22
        -:    1:// Finds or creates an ID for the given name.
        -:    2:// If the name exists, returns its existing ID.
        -:    3:// If not, assigns a new unique ID and stores the name.
      288:    4:fn u32 table_find(const char *name, u32 len) {
        -:    5:  // Linear scan for existing name
     2439:    6:  for (u32 i = 0; i < TABLE_LEN; i++) {
     2248:    7:    if (strlen(TABLE[i]) == len && memcmp(TABLE[i], name, len) == 0) {
       97:    8:      return i;
        -:    9:    }
        -:   10:  }
        -:   11:  // Not found - create new entry
      191:   12:  u32  id   = TABLE_LEN++;
      191:   13:  char *copy = malloc(len + 1);
      191:   14:  memcpy(copy, name, len);
      191:   15:  copy[len] = '\0';
      191:   16:  TABLE[id] = copy;
      191:   17:  return id;
        -:   18:}
