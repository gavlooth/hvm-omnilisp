;; test_re_find.lisp - Tests for finding first regex match

;; Re-find returns first match
;; TEST: find simple
;; EXPECT: "world"
(re-find "hello world" "world")

;; TEST: find with wildcard
;; EXPECT: "world"
(re-find "hello world" "w..ld")

;; TEST: find digits
;; EXPECT: "123"
(re-find "abc123def" "[0-9]+")

;; TEST: find word
;; EXPECT: "hello"
(re-find "hello world" "[a-z]+")

;; TEST: find not found
;; EXPECT: nil
(re-find "hello world" "xyz")

;; TEST: find first occurrence
;; EXPECT: "cat"
(re-find "cat dog cat" "cat")

;; Find with groups
;; TEST: find with group
;; EXPECT: ("hello world" "hello" "world")
(re-find "hello world" "(\\w+) (\\w+)")

;; TEST: find named group
;; EXPECT: #{"match" "hello" "name" "hello"}
(re-find "hello world" "(?<name>\\w+)")

;; Find returning match object
;; TEST: find match position
;; EXPECT: 6
(let [m (re-find-match "hello world" "world")]
  (:start m))

;; TEST: find match end
;; EXPECT: 11
(let [m (re-find-match "hello world" "world")]
  (:end m))

;; TEST: find match text
;; EXPECT: "world"
(let [m (re-find-match "hello world" "world")]
  (:text m))

;; TEST: find in middle
;; EXPECT: "345"
(re-find "12345678" "345")

;; TEST: find empty
;; EXPECT: nil
(re-find "hello" "xyz")
