;; test_dict_get.lisp - Tests for dict-get and dict-get-in

;; Basic dict-get
;; TEST: get existing key
;; EXPECT: 1
(dict-get #{:a 1 :b 2 :c 3} :a)

;; TEST: get another key
;; EXPECT: 2
(dict-get #{:a 1 :b 2 :c 3} :b)

;; TEST: get missing key returns nothing
;; EXPECT: nothing
(dict-get #{:a 1 :b 2} :z)

;; Get with default value
;; TEST: get with default - key exists
;; EXPECT: 1
(dict-get #{:a 1 :b 2} :a 0)

;; TEST: get with default - key missing
;; EXPECT: 0
(dict-get #{:a 1 :b 2} :z 0)

;; Nested get with dict-get-in
(define nested #{:person #{:name "Alice" :address #{:city "NYC" :zip "10001"}}})

;; TEST: get-in single level
;; EXPECT: #{:name "Alice" :address #{:city "NYC" :zip "10001"}}
(dict-get-in nested [:person])

;; TEST: get-in two levels
;; EXPECT: "Alice"
(dict-get-in nested [:person :name])

;; TEST: get-in three levels
;; EXPECT: "NYC"
(dict-get-in nested [:person :address :city])

;; TEST: get-in missing path
;; EXPECT: nothing
(dict-get-in nested [:person :phone])
