;; test_datetime_add.omni - Tests for numeric addition patterns
;; Demonstrates curried addition and compound operations

;; TEST: simple addition
;; EXPECT: 20
(+ 15 5)

;; TEST: curried add function
;; EXPECT: 35
(do (define add [x] [y] (+ x y))
    (add 30 5))

;; TEST: add negative (subtract)
;; EXPECT: 10
(+ 15 -5)

;; TEST: add chain
;; EXPECT: 18
(+ (+ (+ 10 3) 3) 2)

;; TEST: add with let
;; EXPECT: 45
(let [base 30]
  (+ base 15))

;; TEST: add crossing threshold
;; EXPECT: 102
(+ 97 5)

;; TEST: add-n function
;; EXPECT: 15
(do (define add-n [n]
      (lambda [x] (+ x n)))
    ((add-n 5) 10))

;; TEST: compose additions
;; EXPECT: 23
(do (define add-n [n]
      (lambda [x] (+ x n)))
    (let [add3 (add-n 3)]
      (let [add5 (add-n 5)]
        (add5 (add3 15)))))

;; EXPECT: true
(let [result (+ (+ 1 2) 3)]
  (= result 6))
