        -:    0:Source:../hvm4/clang/wnf/app_mat_ctr.c
        -:    0:Graph:hvm4-cov-main.gcno
        -:    0:Data:hvm4-cov-main.gcda
        -:    0:Runs:22
        -:    1:// (λ{#K:h; m} #K{a,b})
        -:    2:// -------------------- APP-MAT-CTR-MAT
        -:    3:// (h a b)
        -:    4://
        -:    5:// (λ{#K:h; m} #L{a,b})
        -:    6:// -------------------- APP-MAT-CTR-MIS
        -:    7:// (m #L{a,b})
      142:    8:fn Term wnf_app_mat_ctr(Term mat, Term ctr) {
      142:    9:  ITRS++;
      142:   10:  u32 mat_ext = term_ext(mat);
      142:   11:  u32 ctr_ext = term_ext(ctr);
      142:   12:  u32 mat_loc = term_val(mat);
      142:   13:  if (mat_ext != ctr_ext) {
       68:   14:    Term g = heap_read(mat_loc + 1);
       68:   15:    return term_new_app_at(mat_loc, g, ctr);
        -:   16:  }
       74:   17:  u32 ari = term_tag(ctr) - C00;
       74:   18:  Term res = heap_read(mat_loc);
       74:   19:  if (ari == 0) {
       12:   20:    return res;
        -:   21:  }
       62:   22:  u32 ctr_loc = term_val(ctr);
       62:   23:  u64 apps = heap_alloc(2 * (u64)ari);
      147:   24:  for (u32 i = 0; i < ari; i++) {
       85:   25:    res = term_new_app_at((u32)(apps + 2 * (u64)i), res, heap_read(ctr_loc + i));
        -:   26:  }
       62:   27:  return res;
        -:   28:}
