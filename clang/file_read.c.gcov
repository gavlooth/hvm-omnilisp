        -:    0:Source:../hvm4/clang/sys/file_read.c
        -:    0:Graph:hvm4-cov-main.gcno
        -:    0:Data:hvm4-cov-main.gcda
        -:    0:Runs:22
       31:    1:fn char *sys_file_read(const char *path) {
       31:    2:  FILE *fp = fopen(path, "rb");
       31:    3:  if (!fp) {
    #####:    4:    return NULL;
        -:    5:  }
       31:    6:  fseek(fp, 0, SEEK_END);
       31:    7:  long len = ftell(fp);
       31:    8:  fseek(fp, 0, SEEK_SET);
       31:    9:  char *src = malloc(len + 1);
       31:   10:  if (!src) {
    #####:   11:    sys_error("OOM");
        -:   12:  }
       31:   13:  fread(src, 1, len, fp);
       31:   14:  src[len] = 0;
       31:   15:  fclose(fp);
       31:   16:  return src;
        -:   17:}
